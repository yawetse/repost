function now(){return(new Date).getTime()}function expired(e){return e.expire&&now()>e.expire}var TinyCache=function(){var e=this;return e.cache={},e.debug=!1,e.hitCount=0,e.missCount=0,e};TinyCache.prototype.put=function(e,t,n){var i=this;i.cache[e]&&clearTimeout(i.cache[e].timeout);var r={value:t,expire:n?n+now():null};r.expire&&function(){var t=i,o=setTimeout(function(){t.del(e)},n);r.timeout=o}(),i.cache[e]=r},TinyCache.prototype.del=function(e){var t=this,n=t.cache[e];if(!n)return!1;clearTimeout(n.timeout);var i=expired(n);return delete t.cache[e],!i},TinyCache.prototype.clear=function(){var e=this;for(var t in e.cache)clearTimeout(e.cache[t].timeout);e.cache={}},TinyCache.prototype.get=function(e){var t=this,n=t.cache[e];if(n!==void 0){if(!expired(n))return t.debug&&++t.hitCount,n.value;t.debug&&++t.missCount,t.del(e)}return null},TinyCache.prototype.size=function(){var e,t=this,n=0;for(e in t.cache)t.cache.hasOwnProperty(e)&&null!==t.get(e)&&n++;return n},TinyCache.prototype.memsize=function(){var e,t=this,n=0;for(e in t.cache)t.cache.hasOwnProperty(e)&&n++;return n},TinyCache.prototype.hits=function(){var e=this;return e.hitCount},TinyCache.prototype.misses=function(){var e=this;return e.missCount},TinyCache.shared=new TinyCache,"undefined"!=typeof module&&module.exports!==void 0?module.exports=TinyCache:"function"==typeof define&&define.amd?define([],function(){return TinyCache}):window.TinyCache=TinyCache;